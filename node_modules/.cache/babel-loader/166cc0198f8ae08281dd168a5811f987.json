{"ast":null,"code":"import _objectWithoutProperties from\"E:\\\\GitHub\\\\swapi-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React,{Suspense,lazy}from'react';import{Route,Switch,Redirect,HashRouter}from'react-router-dom';import ErrorComponent from'./Common/Components/ErrorComponent';var Login=lazy(function(){return import(/* webpackChunkName: \"Login\" */'./Login');});var Home=lazy(function(){return import(/* webpackChunkName: \"Home\" */'./Home');});// const NoMatch = lazy(() => import('./NoMatch'));\nexport var checkUserLoggedIn=function checkUserLoggedIn(){return!!localStorage.getItem('userName');};var AuthRoute=function AuthRoute(_ref){var Component=_ref.component,_ref$allowedFor=_ref.allowedFor,allowedFor=_ref$allowedFor===void 0?[]:_ref$allowedFor,rest=_objectWithoutProperties(_ref,[\"component\",\"allowedFor\"]);console.log('checkUserLoggedIn',checkUserLoggedIn());return/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:function render(props){return checkUserLoggedIn()?/*#__PURE__*/React.createElement(Component,props):/*#__PURE__*/React.createElement(ErrorComponent,{errorMessage:\"Access denied\"});}}));};/* Using HashRouter because GitHub Pages doesn’t support routers \r\nthat use the HTML5 `pushState` history API under the hood \r\n(for example, React Router using `browserHistory`) so if you refresh the \r\nBrowser Page it gives a 404 Error page. \r\nThis is because when there is a fresh page load for a url like \r\n`http://user.github.io/todomvc/todos/42`, where `/todos/42` is a frontend route, \r\nthe GitHub Pages server returns 404 because it knows nothing of `/todos/42`.\r\n*/var Routes=function Routes(){return/*#__PURE__*/React.createElement(HashRouter,null,/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(React.Fragment,null,\"Loading...\")},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",render:function render(){return/*#__PURE__*/React.createElement(Login,null);}}),/*#__PURE__*/React.createElement(AuthRoute,{exact:true,path:\"/home\",component:Home}))));};export default Routes;","map":{"version":3,"sources":["E:/GitHub/swapi-test/src/Routes.js"],"names":["React","Suspense","lazy","Route","Switch","Redirect","HashRouter","ErrorComponent","Login","Home","checkUserLoggedIn","localStorage","getItem","AuthRoute","Component","component","allowedFor","rest","console","log","props","Routes"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,IAA1B,KAAsC,OAAtC,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,UAAlC,KAAoD,kBAApD,CACA,MAAOC,CAAAA,cAAP,KAA2B,oCAA3B,CAEA,GAAMC,CAAAA,KAAK,CAAGN,IAAI,CAAC,iBAAM,QAAO,+BAAgC,SAAvC,CAAN,EAAD,CAAlB,CAEA,GAAMO,CAAAA,IAAI,CAAGP,IAAI,CAAC,iBAAM,QAAO,8BAA+B,QAAtC,CAAN,EAAD,CAAjB,CAEA;AAEA,MAAO,IAAMQ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,SAAM,CAAC,CAACC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAR,EAA1B,CAEP,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAwD,IAA1CC,CAAAA,SAA0C,MAArDC,SAAqD,sBAA/BC,UAA+B,CAA/BA,UAA+B,0BAAlB,EAAkB,iBAAXC,IAAW,2DACxEC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCT,iBAAiB,EAAlD,EACA,mBACE,oBAAC,KAAD,kBACMO,IADN,EAEE,MAAM,CAAE,gBAACG,KAAD,QACNV,CAAAA,iBAAiB,gBACf,oBAAC,SAAD,CAAeU,KAAf,CADe,cAGf,oBAAC,cAAD,EAAgB,YAAY,CAAC,eAA7B,EAJI,EAFV,GADF,CAYD,CAdD,CAgBA;;;;;;;EAQA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,sBACb,oBAAC,UAAD,mBACE,oBAAC,QAAD,EAAU,QAAQ,cAAE,qDAApB,eACE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,MAAM,CAAE,qCAAM,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAN,EAA9B,EADF,cAEE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,MAAM,CAAE,qCAAM,oBAAC,KAAD,MAAN,EAAnC,EAFF,cAGE,oBAAC,SAAD,EAAW,KAAK,KAAhB,CAAiB,IAAI,CAAC,OAAtB,CAA8B,SAAS,CAAEZ,IAAzC,EAHF,CADF,CADF,CADa,EAAf,CAcA,cAAeY,CAAAA,MAAf","sourcesContent":["import React, { Suspense, lazy } from 'react';\r\nimport { Route, Switch, Redirect, HashRouter } from 'react-router-dom';\r\nimport ErrorComponent from './Common/Components/ErrorComponent';\r\n\r\nconst Login = lazy(() => import(/* webpackChunkName: \"Login\" */ './Login'));\r\n\r\nconst Home = lazy(() => import(/* webpackChunkName: \"Home\" */ './Home'));\r\n\r\n// const NoMatch = lazy(() => import('./NoMatch'));\r\n\r\nexport const checkUserLoggedIn = () => !!localStorage.getItem('userName');\r\n\r\nconst AuthRoute = ({ component: Component, allowedFor = [], ...rest }) => {\r\n  console.log('checkUserLoggedIn', checkUserLoggedIn());\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        checkUserLoggedIn() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <ErrorComponent errorMessage=\"Access denied\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\n/* Using HashRouter because GitHub Pages doesn’t support routers \r\nthat use the HTML5 `pushState` history API under the hood \r\n(for example, React Router using `browserHistory`) so if you refresh the \r\nBrowser Page it gives a 404 Error page. \r\nThis is because when there is a fresh page load for a url like \r\n`http://user.github.io/todomvc/todos/42`, where `/todos/42` is a frontend route, \r\nthe GitHub Pages server returns 404 because it knows nothing of `/todos/42`.\r\n*/\r\nconst Routes = () => (\r\n  <HashRouter>\r\n    <Suspense fallback={<>Loading...</>}>\r\n      <Switch>\r\n        <Route exact path=\"/\" render={() => <Redirect to=\"/login\" />} />\r\n        <Route exact path=\"/login\" render={() => <Login />} />\r\n        <AuthRoute exact path=\"/home\" component={Home} />\r\n\r\n        {/* <Route component={NoMatch} /> */}\r\n      </Switch>\r\n    </Suspense>\r\n  </HashRouter>\r\n);\r\n\r\nexport default Routes;\r\n"]},"metadata":{},"sourceType":"module"}